---
title: "Starwars data: Preliminary Results"
author: "Thea Knowles"
date: '2020-01-14'
output: html_document
---

```{r setup-summary, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r loadLibraries, include=FALSE}
# You don't have to include libraries you loaded in helper.R
# But you can if you want
# You may wish to load additional libraries as well

library(flextable)
```

```{r source, include=FALSE}
source('helper.R')
```

This is a summary report of the Starwars data. This text will appear in the main output. 

<!-- This is an example of a comment I've written to myself that won't appear on the output -->
<!-- You can make a line a comment by selecting it and then typing shift + command + c -->
<!-- Alternatively, you can click Code >> Comment/Uncomment -->

Whenever we want to use R code, we embed it in chunks.

- Chunks can be inserted by typing `Alt + Command + i`
- Anything within a chunk will be treated like R code. 
- In chunks, you can either call variables that you assigned from within your helper script, or you can create new variables to include here. 

You can specify different *chunk options*:

- `eval = FALSE` prevents code from being run.
- `echo = FALSE` prevents code, but not the results from appearing in the finished file.
- `message = FALSE` prevents messages that are generated by code from appearing in the finished file.
- `fig.height = 4` specifies the height to use in R for plots created by the chunk (in inches, e.g., 4 inches).

See [RMarkdown Reference Guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf) for complete list


### Research question: 
- In Starwars beverages, what is the relationship between characters' heights and weights?

### Means
- This is an example where we call in a variable we already created (sw_summary, which is a *tibble* or a kind of data frame)
- Note: what does `echo = FALSE` mean?

```{r means, echo=FALSE}
sw_summary_species %>% 
  flextable()
```


### A plot!
- You can also leave a chunk unnamed and without any parameters specified
- This is a plot that we made in helper.R

```{r}
sw_plot
```


### Another plot!
- Here we are making a plot from scratch 
     - i.e., we're not calling a plot that has already been assigned to a variable in helper.R
- We don't need to assign it to a variable name (`<-`); we can just include the code for the plot


```{r species-weight-plot, echo=FALSE}

starwars %>%
  filter(!is.na(mass) & !is.na(species)) %>%
  group_by(species) %>%
  summarize(mass = mean(mass,na.rm=TRUE)) %>%
  ungroup() %>%
  ggplot(aes(x=reorder(species, mass), 
             y=mass,
             fill=reorder(species,mass))) +
           geom_col() +
  guides(fill=FALSE) +
  coord_flip() +
  labs(x="Species",
       y="Weight (kg)") +
  theme_bw()

```


## Exercise 3: Knit!
- Press Knit button at top of RStudio editor
- Output will default to whatever is first specified in the YAML
     - In this case: HTML
- You can also specify other types of output and select which one you would like to knit

## Exercise 4: Include a new plot!
- Insert a chunk and make a new plot
- Use the same syntax that we used to make the "Calories by beverage type" but plot "Sugars by beverage type" instead


*Insert new chunk here!*


## Exercise 5: Make a new summary .Rmd report
- See slides



